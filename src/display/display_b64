#!../../ressources/yasl_linux

#!

{
	"Image received, nb pixels : " print print "\n" print
	"Found square : " print print "\n" print
} print_stats

{	// could be bugged for / 4 if approx
	=:2			// n char
	4:2 2:/:2	// n pixel
	1:3			// stockage
	1:4			// bool = true

	4:%@		// while (bool == true)
	(
		3:=:3			// 1 1
		3:%*:3			// 1 1 1
		2:=:3			// 1 1 1 1024
		3:%==:3			// (1 == 1024)
		3:?	(			// if (square == char) bool == 0
			0:4				// bool = false
			3:!
			//2:3				// copy square
			3:print_stats:3
		) : (				// else
			3:%>:3			// (1 > 1024)
			? 0:("not square\n" print 0 exit):0	// error
			3:!!!			// 1
			1:3				// 1 1
			3:+:3			// 1 + 1 = 2	// i++
		)
	)
	2:!
} is_square

{
	""
	read
	@(
		+
		read
	)
	!
} open

open

[#]
0:is_square

"hey\n" print
